import{u as y,g as n,b as t,f as b,k as i,s as c,d as l,F as a,m,q as p,e as x,o as d,t as g,i as k}from"./app-AswBxBlr.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                            */const S={class:"max-w-3xl mx-auto bg-white rounded-xl shadow-lg p-8 mt-8 animate-fade-in"},V={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},U=["value"],q=["value"],_=["max"],I={class:"space-y-4"},A=["onUpdate:modelValue"],C=["value"],D=["onUpdate:modelValue"],F=["onUpdate:modelValue"],N={class:"font-semibold text-green-700"},B=["onClick"],M={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},T={__name:"form",props:{customers:Array,products:Array,agents:Array,locations:Array},setup(f){const s=y({customer_id:"",sales_agent_id:"",invoice_date:new Date().toISOString().slice(0,10),discount:0,items:[{product_id:"",quantity:1,unit_price:0}]});return(u,e)=>(d(),n("div",S,[e[17]||(e[17]=t("h1",{class:"text-2xl font-bold text-green-800 mb-6 flex items-center gap-2"},[t("i",{class:"fas fa-plus-circle text-green-600"}),b(" New Sale ")],-1)),t("form",{onSubmit:e[5]||(e[5]=x((...o)=>u.submit&&u.submit(...o),["prevent"])),class:"space-y-6"},[t("div",V,[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-semibold mb-1"},"Customer",-1)),i(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>l(s).customer_id=o),required:"",class:"form-select w-full rounded border-gray-300 focus:border-green-500 focus:ring-green-500"},[e[6]||(e[6]=t("option",{value:"",disabled:""},"Select customer",-1)),(d(!0),n(a,null,m(f.customers,o=>(d(),n("option",{key:o.id,value:o.id},g(o.name),9,U))),128))],512),[[c,l(s).customer_id]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-semibold mb-1"},"Sales Agent",-1)),i(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>l(s).sales_agent_id=o),class:"form-select w-full rounded border-gray-300 focus:border-green-500 focus:ring-green-500"},[e[8]||(e[8]=t("option",{value:""},"-- None --",-1)),(d(!0),n(a,null,m(f.agents,o=>(d(),n("option",{key:o.id,value:o.id},g(o.user?.name),9,q))),128))],512),[[c,l(s).sales_agent_id]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-semibold mb-1"},"Invoice Date",-1)),i(t("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=o=>l(s).invoice_date=o),required:"",class:"form-input w-full rounded border-gray-300 focus:border-green-500 focus:ring-green-500",max:u.today},null,8,_),[[p,l(s).invoice_date]])])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-semibold mb-2"},"Sale Items",-1)),t("div",I,[(d(!0),n(a,null,m(l(s).items,(o,v)=>(d(),n("div",{key:v,class:"flex gap-2 items-end"},[i(t("select",{"onUpdate:modelValue":r=>o.product_id=r,required:"",class:"form-select rounded border-gray-300 focus:border-green-500 focus:ring-green-500"},[e[11]||(e[11]=t("option",{value:"",disabled:""},"Select product",-1)),(d(!0),n(a,null,m(f.products,r=>(d(),n("option",{key:r.id,value:r.id},g(r.name),9,C))),128))],8,A),[[c,o.product_id]]),i(t("input",{type:"number",min:"0.001",step:"0.001","onUpdate:modelValue":r=>o.quantity=r,required:"",placeholder:"Qty",class:"form-input w-20 rounded border-gray-300 focus:border-green-500 focus:ring-green-500"},null,8,D),[[p,o.quantity,void 0,{number:!0}]]),i(t("input",{type:"number",min:"0",step:"0.01","onUpdate:modelValue":r=>o.unit_price=r,required:"",placeholder:"Unit Price",class:"form-input w-28 rounded border-gray-300 focus:border-green-500 focus:ring-green-500"},null,8,F),[[p,o.unit_price,void 0,{number:!0}]]),t("span",N,g((o.quantity*o.unit_price).toFixed(2)),1),l(s).items.length>1?(d(),n("button",{key:0,type:"button",onClick:r=>u.removeItem(v),class:"text-red-500 hover:text-red-700 px-2 py-1"},[...e[12]||(e[12]=[t("i",{class:"fas fa-trash"},null,-1)])],8,B)):k("",!0)]))),128))]),t("button",{type:"button",onClick:e[3]||(e[3]=(...o)=>u.addItem&&u.addItem(...o)),class:"mt-3 text-green-700 hover:text-green-900 font-semibold flex items-center gap-1"},[...e[13]||(e[13]=[t("i",{class:"fas fa-plus"},null,-1),b(" Add Item ",-1)])])]),t("div",M,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-semibold mb-1"},"Discount",-1)),i(t("input",{type:"number",min:"0",step:"0.01","onUpdate:modelValue":e[4]||(e[4]=o=>l(s).discount=o),class:"form-input w-full rounded border-gray-300 focus:border-green-500 focus:ring-green-500"},null,512),[[p,l(s).discount,void 0,{number:!0}]])])]),e[16]||(e[16]=t("div",{class:"flex justify-end gap-4 mt-8"},[t("button",{type:"submit",class:"bg-gradient-to-r from-green-500 to-green-700 text-white font-bold px-8 py-2 rounded-lg shadow hover:from-green-600 hover:to-green-800 transition-all duration-200"},[t("i",{class:"fas fa-save mr-2"}),b(" Save Sale ")])],-1))],32)]))}},O=w(T,[["__scopeId","data-v-cf2ed8e4"]]);export{O as default};
